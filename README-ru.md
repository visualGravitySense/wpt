# Проект web-platform-tests

==========================

[![Статус CI Taskcluster](https://community-tc.services.mozilla.com/api/github/v1/repository/web-platform-tests/wpt/master/badge.svg)](https://community-tc.services.mozilla.com/api/github/v1/repository/web-platform-tests/wpt/master/latest)
[![документация](https://github.com/web-platform-tests/wpt/workflows/documentation/badge.svg)](https://github.com/web-platform-tests/wpt/actions?query=workflow%3Adocumentation+branch%3Amaster)
[![manifest](https://github.com/web-platform-tests/wpt/workflows/manifest/badge.svg)](https://github.com/web-platform-tests/wpt/actions?query=workflow%3Amanifest+branch%3Amaster)
[![Python 3](https://pyup.io/repos/github/web-platform-tests/wpt/python-3-shield.svg)](https://pyup.io/repos/github/web-platform-tests/wpt/)

Проект **web-platform-tests (WPT)** — это кроссбраузерный набор тестов для
веб-платформы. Написание тестов таким образом, чтобы они могли выполняться во
всех браузерах, даёт разработчикам браузеров уверенность в том, что выпускаемое
ПО совместимо с другими реализациями, а будущие реализации будут совместимы с
текущими.

В свою очередь, это даёт веб-авторам и разработчикам уверенность в том, что на
веб-платформу действительно можно полагаться — она будет работать одинаково во
всех браузерах и на всех устройствах без необходимости использовать
дополнительные уровни абстракции для обхода пробелов, оставленных редакторами
спецификаций и разработчиками реализаций.

---

## Основные источники информации и активности

* [github.com/web-platform-tests/wpt](https://github.com/web-platform-tests/wpt) —
  основной репозиторий проекта с историей изменений исходного кода и местом
  обсуждения изменений
* [web-platform-tests.org](https://web-platform-tests.org) —
  сайт документации; описывает настройку проекта, написание тестов, процесс
  ревью, администрирование и многое другое
* [wpt.live](https://wpt.live) —
  публичное развертывание тестового набора, позволяющее запускать тесты напрямую
  из любого браузера с доступом в Интернет
* [wpt.fyi](https://wpt.fyi) —
  архив результатов тестов, регулярно собираемых из разных браузеров
* [Чат в реальном времени](https://app.element.io/#/room/#wpt:matrix.org) —
  канал Matrix `wpt:matrix.org`; участники со всего мира, наиболее активен в
  рабочее время по Европе
* [Почтовая рассылка](https://lists.w3.org/Archives/Public/public-test-infra/) —
  публичный список рассылки с низкой активностью
* [RFCs](https://github.com/web-platform-tests/rfcs) —
  репозиторий для запросов комментариев по крупным изменениям, которые могут
  затронуть других участников или пользователей; разработчикам инфраструктуры
  WPT рекомендуется следить за этим репозиторием

**Если вам нужна дополнительная информация или разъяснения**, не стесняйтесь
задавать вопросы в чате или в почтовой рассылке.

---

## Настройка репозитория

=======================

Склонируйте или иным способом получите репозиторий
[https://github.com/web-platform-tests/wpt](https://github.com/web-platform-tests/wpt).

Примечание: из-за частого создания и удаления веток в этом репозитории
рекомендуется «очищать» устаревшие ветки при обновлении, например использовать:

```bash
git pull --prune
```

(или `git fetch -p && git merge`).

---

## Запуск тестов

================

См. [сайт документации](https://web-platform-tests.org/running-tests/), а также,
в частности, раздел
[настройка системы для локального запуска тестов](https://web-platform-tests.org/running-tests/from-local-system.html#system-setup).

---

## Инструменты командной строки

===============================

Команда `wpt` предоставляет интерфейс к различным инструментам для работы с
web-platform-tests и запуска тестов. Наиболее полезные команды:

* `wpt serve` — запуск HTTP-сервера WPT
* `wpt run` — запуск тестов в браузере
* `wpt lint` — запуск линтера для всех тестов
* `wpt manifest` — обновление или генерация тестового манифеста `MANIFEST.json`
* `wpt install` — установка последней версии браузера или webdriver-сервера на
  локальную машину
* `wpt serve-wave` — запуск HTTP-сервера WPT и тест-раннера WAVE

Подробности по использованию WAVE см. в
[документации](./tools/wave/docs/usage/usage.md).

---

## Примечания для Windows

========================

В Windows команды `wpt` необходимо запускать с префиксом `python` или с указанием
пути к бинарному файлу Python (если `python` не находится в `%PATH%`):

```bash
python wpt [command]
```

В качестве альтернативы можно использовать
[Bash on Ubuntu on Windows](https://msdn.microsoft.com/en-us/commandline/wsl/about)
(WSL), доступный начиная с Windows 10 Anniversary Update, и запускать команды
`wpt` из этой среды, обращаясь к разделу Windows.

Пожалуйста, убедитесь, что git и ваш текстовый редактор **не изменяют
автоматически окончания строк**, так как это приводит к ошибкам линтера.
Для git выполните в рабочем каталоге:

```bash
git config core.autocrlf false
```

---

## Публикация

=============

Ветка `master` автоматически синхронизируется с
[wpt.live](https://wpt.live/) и [w3c-test.org](https://w3c-test.org/).

---

## Участие в разработке

======================

**Спасайте Веб — пишите тесты!**

Абсолютно все приглашаются к участию в разработке тестов. Ни один тест не
слишком мал или слишком прост, особенно если он покрывает проблему
совместимости, замеченную вами в браузере.

Стандартный процесс внесения вклада:

* Сделайте форк этого репозитория (и убедитесь, что он достаточно актуален,
  если вы сделали форк давно).
* Создайте ветку для изменений:
  `git checkout -b topic`.
* Внесите изменения.
* Запустите `./wpt lint`, как описано выше.
* Закоммитьте изменения локально и отправьте их в свой репозиторий.
* Создайте pull request.

---

## Проблемы с web-platform-tests

---

Если вы обнаружили проблему в тесте и не готовы исправлять её через pull
request, пожалуйста,
[создайте новый issue](https://github.com/web-platform-tests/wpt/issues/new).

Спасибо!
